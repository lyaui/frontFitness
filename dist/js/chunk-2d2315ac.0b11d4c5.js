(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2315ac"],{efd9:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading,opacity:.8,"background-color":"#000",color:"#ff5722"},on:{"update:active":function(a){t.isLoading=a}}}),e("h2",{staticClass:"heading-secondary"},[t._v("訂單列表")]),e("table",{staticClass:"admin-table"},[t._m(0),e("tbody",t._l(t.payments,function(a,s){return e("tr",{key:a.id,class:{"lighten-row":s%2==1}},[e("td",{staticClass:"d-none-phone"},[t._v(t._s(t.time(a.createdAt)))]),e("td",{staticStyle:{"text-align":"left","padding-left":"20px"}},[t._v(t._s(a.id))]),e("td",{staticClass:"d-none-phone"},[t._v(t._s(a.user.name))]),e("td",{staticClass:"d-none-phone"},[t._v(t._s(t._f("currency")(a.total.totalPrice)))]),e("td",["尚未付款"===a.status?[e("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{color:"#ff5721"}}),t._v(" 尚未付款\n          ")]:t._e(),"付款完成"===a.status?[e("i",{staticClass:"fas fa-check-circle",staticStyle:{color:"#0fc195"}}),t._v(" 付款完成\n          ")]:t._e()],2),e("td",[e("button",{staticClass:"admin-btn btn",on:{click:function(e){return t.show(a)}}},[e("i",{staticClass:"fas fa-search"})])])])}),0)]),t.payment?e("modal",{attrs:{name:"payment-detail",resizable:!0,adaptive:!0,height:"auto",maxWidth:600,scrollable:!0,clickToClose:!1}},[e("div",{staticClass:"admin-panel"},[e("p",{staticClass:"heading-tertiary--grey mb-sm"},[t._v("訂單編號："+t._s(t.payment.id))]),e("div",{staticClass:"admin-order"},[e("div",[e("p",[t._v("訂單成立： "+t._s(t.time(t.payment.createdAt)))]),e("p",[t._v("\n            付款時間：\n            "),"付款完成"===t.payment.status?[t._v(t._s(t.time(t.payment.finishedAt)))]:[e("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{color:"#ff5721","margin-right":"5px"}}),t._v("尚未付款\n            ")]],2),e("p",[t._v("聯絡人姓名："+t._s(t.payment.user.name))]),e("p",[t._v("聯絡人信箱："+t._s(t.payment.user.email))]),e("p",[t._v("聯絡人電話："+t._s(t.payment.user.phone))]),e("p",[t._v("實付金額："+t._s(t._f("currency")(t.payment.total.totalPrice)))]),e("p",[t._v("付款方式："+t._s(t.payment.user.payWay))]),e("p",[t._v("聯絡人備註："+t._s(t.payment.user.remark||"無"))])]),e("button",{staticClass:"btn detail-show-btn",on:{click:function(a){t.showDetail=!t.showDetail}}},[t.showDetail?[e("i",{staticClass:"fas fa-chevron-up"}),t._v(" 收合內容\n          ")]:[e("i",{staticClass:"fas fa-chevron-down"}),t._v(" 查看詳細\n          ")]],2),e("transition",{attrs:{name:"fade"}},[t.showDetail?e("div",{staticClass:"d-none-phone"},[e("p",[t._v("價格明細：")]),e("table",{staticClass:"checkout-table"},[e("thead",[e("tr",[e("th",[t._v("課程名稱")]),e("th",[t._v("購買方案")]),e("th",[t._v("原價")]),e("th",[t._v("售價")])])]),e("tbody",t._l(t.payment.courses,function(a){return e("tr",{key:a.title},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.plan))]),e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("currency")(a.price)))]),e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t._f("currency")(a.sellingPrice)))])])}),0)]),e("div",{staticClass:"checkout-payment__total"},[t._v("\n              實付金額：\n              "),e("b",{staticClass:"ml-sm"},[t._v(t._s(t._f("currency")(t.payment.total.totalPrice)))])])]):t._e()]),e("transition",{attrs:{name:"fade"}},[t.showDetail?e("div",{staticClass:"d-block-phone"},[e("p",[t._v("價格明細：")]),t._l(t.payment.courses,function(a){return e("table",{key:a.title,staticClass:"checkout-table"},[e("tbody",[e("tr",[e("td",[e("b",[t._v("課程名稱")])]),e("td",[t._v(t._s(a.title))])]),e("tr",[e("td",[e("b",[t._v("購買方案")])]),e("td",[t._v(t._s(a.plan))])]),e("tr",[e("td",[e("b",[t._v("原價")])]),e("td",[t._v(t._s(t._f("currency")(a.price)))])]),e("tr",[e("td",[e("b",[t._v("售價")])]),e("td",[t._v(t._s(t._f("currency")(a.sellingPrice)))])])])])}),e("div",{staticClass:"checkout-payment__total"},[t._v("\n              實付金額：\n              "),e("b",{staticClass:"ml-sm"},[t._v(t._s(t._f("currency")(t.payment.total.totalPrice)))])])],2):t._e()])],1),e("div",{staticClass:"btn-footer"},[e("button",{staticClass:"btn btn-primary mt-sm",staticStyle:{width:"120px",margin:"auto","margin-bottom":"-15px"},on:{click:t.hide}},[t._v("確定")])])])]):t._e()],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"d-none-phone"},[t._v("訂單成立")]),e("th",[t._v("訂單編號")]),e("th",{staticClass:"d-none-phone"},[t._v("姓名")]),e("th",{staticClass:"d-none-phone"},[t._v("應付金額")]),e("th",[t._v("狀態")]),e("th",[t._v("詳情")])])])}],i=e("c1df"),c=e.n(i),l={name:"Orders",data:function(){return{showDetail:!1,payment:null}},computed:{isLoading:function(){return this.$store.state.isLoading},payments:function(){return this.$store.state.checkout.payments}},methods:{time:function(t){return c()(t).format("YYYY/MM/DD HH:mm")},show:function(t){this.payment=t,this.$modal.show("payment-detail")},hide:function(){this.showDetail=!1,this.$modal.hide("payment-detail")}},created:function(){this.$store.dispatch("checkout/getPayments")}},o=l,r=e("2877"),_=Object(r["a"])(o,s,n,!1,null,null,null);a["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d2315ac.0b11d4c5.js.map