{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/src/store/index.js","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/store/index.js","mtime":1584967506592},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/huangpei-yu/Front-Gym/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { vuexfireMutations } from 'vuexfire';\nimport 'firebase/storage';\nimport st from 'firebase/app'; // modules\n\nimport createPersistedState from 'vuex-persistedstate';\nimport auth from \"./auth\";\nimport cart from \"./cart\";\nimport comments from \"./comments\";\nimport courses from \"./courses\";\nimport checkout from \"./checkout\"; // 保持state狀態\n\nVue.use(Vuex);\nexport default new Vuex.Store({\n  // 保持項目\n  plugins: [createPersistedState({\n    paths: ['courses.cat', 'courses.status', 'courses.course', 'courses.courses', 'cart.cart', 'checkout.payment']\n  })],\n  modules: {\n    auth: auth,\n    cart: cart,\n    comments: comments,\n    courses: courses,\n    checkout: checkout\n  },\n  state: function state() {\n    return {\n      isLoading: false,\n      downloadURL: null\n    };\n  },\n  actions: {\n    // 上傳檔案\n    updateFile: function updateFile(_ref, _ref2) {\n      var commit = _ref.commit;\n      var file = _ref2.file,\n          place = _ref2.place;\n      var storageRef = st.storage().ref(place + file.name);\n      var uploadTask = storageRef.put(file);\n      uploadTask.on('state_changed', function (snapshot) {\n        console.log(snapshot);\n      }, function (error) {\n        console.log(error);\n      }, function () {\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          commit('setDownloadUrl', downloadURL);\n        });\n      });\n    }\n  },\n  mutations: _objectSpread({}, vuexfireMutations, {\n    // loading\n    loading: function loading(state, status) {\n      state.isLoading = status;\n    },\n    setDownloadUrl: function setDownloadUrl(state, url) {\n      state.downloadURL = url;\n    }\n  })\n});",{"version":3,"sources":["/Users/huangpei-yu/Front-Gym/src/store/index.js"],"names":["Vue","Vuex","vuexfireMutations","st","createPersistedState","auth","cart","comments","courses","checkout","use","Store","plugins","paths","modules","state","isLoading","downloadURL","actions","updateFile","commit","file","place","storageRef","storage","ref","name","uploadTask","put","on","snapshot","console","log","error","getDownloadURL","then","mutations","loading","status","setDownloadUrl","url"],"mappings":";;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,iBAAT,QAAkC,UAAlC;AACA,OAAO,kBAAP;AACA,OAAOC,EAAP,MAAe,cAAf,C,CAEA;;AACA,OAAOC,oBAAP,MAAiC,qBAAjC;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACA,OAAOC,QAAP,mB,CAEA;;AAEAT,GAAG,CAACU,GAAJ,CAAQT,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACU,KAAT,CAAe;AAC5B;AACAC,EAAAA,OAAO,EAAE,CACPR,oBAAoB,CAAC;AACnBS,IAAAA,KAAK,EAAE,CACL,aADK,EAEL,gBAFK,EAGL,gBAHK,EAIL,iBAJK,EAKL,WALK,EAML,kBANK;AADY,GAAD,CADb,CAFmB;AAe5BC,EAAAA,OAAO,EAAE;AACPT,IAAAA,IAAI,EAAJA,IADO;AAEPC,IAAAA,IAAI,EAAJA,IAFO;AAGPC,IAAAA,QAAQ,EAARA,QAHO;AAIPC,IAAAA,OAAO,EAAPA,OAJO;AAKPC,IAAAA,QAAQ,EAARA;AALO,GAfmB;AAuB5BM,EAAAA,KAvB4B,mBAuBpB;AACN,WAAO;AACLC,MAAAA,SAAS,EAAE,KADN;AAELC,MAAAA,WAAW,EAAE;AAFR,KAAP;AAID,GA5B2B;AA6B5BC,EAAAA,OAAO,EAAE;AACP;AACAC,IAAAA,UAFO,mCAEiC;AAAA,UAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,UAAfC,IAAe,SAAfA,IAAe;AAAA,UAATC,KAAS,SAATA,KAAS;AACtC,UAAMC,UAAU,GAAGpB,EAAE,CAACqB,OAAH,GAAaC,GAAb,CAAiBH,KAAK,GAAGD,IAAI,CAACK,IAA9B,CAAnB;AACA,UAAMC,UAAU,GAAGJ,UAAU,CAACK,GAAX,CAAeP,IAAf,CAAnB;AACAM,MAAAA,UAAU,CAACE,EAAX,CACE,eADF,EAEE,UAACC,QAAD,EAAc;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACD,OAJH,EAKE,UAACG,KAAD,EAAW;AACTF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,OAPH,EAQE,YAAM;AACJN,QAAAA,UAAU,CAACG,QAAX,CAAoBL,GAApB,CAAwBS,cAAxB,GAAyCC,IAAzC,CAA8C,UAAClB,WAAD,EAAiB;AAC7DG,UAAAA,MAAM,CAAC,gBAAD,EAAmBH,WAAnB,CAAN;AACD,SAFD;AAGD,OAZH;AAcD;AAnBM,GA7BmB;AAmD5BmB,EAAAA,SAAS,oBACJlC,iBADI;AAGP;AACAmC,IAAAA,OAJO,mBAICtB,KAJD,EAIQuB,MAJR,EAIgB;AACrBvB,MAAAA,KAAK,CAACC,SAAN,GAAkBsB,MAAlB;AACD,KANM;AAOPC,IAAAA,cAPO,0BAOQxB,KAPR,EAOeyB,GAPf,EAOoB;AACzBzB,MAAAA,KAAK,CAACE,WAAN,GAAoBuB,GAApB;AACD;AATM;AAnDmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport { vuexfireMutations } from 'vuexfire';\nimport 'firebase/storage';\nimport st from 'firebase/app';\n\n// modules\nimport createPersistedState from 'vuex-persistedstate';\nimport auth from './auth';\nimport cart from './cart';\nimport comments from './comments';\nimport courses from './courses';\nimport checkout from './checkout';\n\n// 保持state狀態\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  // 保持項目\n  plugins: [\n    createPersistedState({\n      paths: [\n        'courses.cat',\n        'courses.status',\n        'courses.course',\n        'courses.courses',\n        'cart.cart',\n        'checkout.payment',\n      ],\n    }),\n  ],\n\n  modules: {\n    auth,\n    cart,\n    comments,\n    courses,\n    checkout,\n  },\n\n  state() {\n    return {\n      isLoading: false,\n      downloadURL: null,\n    };\n  },\n  actions: {\n    // 上傳檔案\n    updateFile({ commit }, { file, place }) {\n      const storageRef = st.storage().ref(place + file.name);\n      const uploadTask = storageRef.put(file);\n      uploadTask.on(\n        'state_changed',\n        (snapshot) => {\n          console.log(snapshot);\n        },\n        (error) => {\n          console.log(error);\n        },\n        () => {\n          uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n            commit('setDownloadUrl', downloadURL);\n          });\n        },\n      );\n    },\n  },\n\n  mutations: {\n    ...vuexfireMutations,\n\n    // loading\n    loading(state, status) {\n      state.isLoading = status;\n    },\n    setDownloadUrl(state, url) {\n      state.downloadURL = url;\n    },\n  },\n});\n"]}]}