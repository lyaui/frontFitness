{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js!/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/src/main.js","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/main.js","mtime":1583941444720},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/huangpei-yu/Front-Gym/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"/Users/huangpei-yu/Front-Gym/node_modules/core-js/modules/es6.array.iterator.js\";\nimport \"/Users/huangpei-yu/Front-Gym/node_modules/core-js/modules/es6.promise.js\";\nimport \"/Users/huangpei-yu/Front-Gym/node_modules/core-js/modules/es6.object.assign.js\";\nimport \"/Users/huangpei-yu/Front-Gym/node_modules/core-js/modules/es7.promise.finally.js\";\nimport Vue from 'vue';\nimport App from \"./App.vue\";\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport router from \"./router\";\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport VModal from 'vue-js-modal';\nimport SocialSharing from 'vue-social-sharing';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport currencyFilter from \"./filters/currencyFilter\";\nimport infiniteScroll from 'vue-infinite-scroll';\nimport Vuelidate from 'vuelidate';\nimport Lightbox from 'vue-easy-lightbox';\nimport Toasted from 'vue-toasted';\nimport store from \"./store\";\nVue.config.productionTip = false;\nVue.use(Toasted);\nVue.use(VModal, {\n  dialog: true\n});\nVue.use(SocialSharing);\nVue.component('Loading', Loading);\nVue.filter('currency', currencyFilter);\nVue.component('AddToCartModal', require('@/components/AddToCartModal.vue').default);\nVue.component('AddToCart', require('@/components/AddToCart.vue').default);\nVue.use(infiniteScroll);\nVue.use(Vuelidate);\nVue.use(Lightbox);\nvar app = null; // wait for firebase auth to init before creating the app\n//創建前先設定好帳號，當帳號狀態有變時啟動\n\nfirebase.auth().onAuthStateChanged(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(user) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!user) {\n              _context.next = 3;\n              break;\n            }\n\n            _context.next = 3;\n            return store.dispatch('auth/storeAuthUser', user);\n\n          case 3:\n            //init app if not already created\n            if (!app) {\n              new Vue({\n                created: function created() {\n                  AOS.init({\n                    // offset: 200,\n                    duration: 800,\n                    easing: 'ease-in-sine',\n                    delay: 800\n                  });\n                },\n                router: router,\n                store: store,\n                render: function render(h) {\n                  return h(App);\n                }\n              }).$mount('#app');\n              router.beforeEach(function (to, from, next) {\n                var user = firebase.auth().currentUser;\n\n                if (to.meta.requiresAuth === true) {\n                  //使用者必須登入才能進入頁面\n                  if (user) {\n                    //使用者必須通過購物車才能進結帳頁面\n                    if (to.name === 'Checkout' && from.name !== 'Cart') {\n                      Vue.toasted.error('請先確認購物車品項再結帳', {\n                        duration: 3000\n                      });\n                      next({\n                        name: 'Cart'\n                      });\n                    } else {\n                      next();\n                    }\n                  } else {\n                    Vue.toasted.error('請先登入或註冊會員', {\n                      duration: 3000\n                    });\n                    next({\n                      name: 'home'\n                    });\n                  }\n                } else {\n                  next();\n                }\n              });\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());",{"version":3,"sources":["/Users/huangpei-yu/Front-Gym/src/main.js"],"names":["Vue","App","firebase","router","AOS","VModal","SocialSharing","Loading","currencyFilter","infiniteScroll","Vuelidate","Lightbox","Toasted","store","config","productionTip","use","dialog","component","filter","require","default","app","auth","onAuthStateChanged","user","dispatch","created","init","duration","easing","delay","render","h","$mount","beforeEach","to","from","next","currentUser","meta","requiresAuth","name","toasted","error"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport firebase from 'firebase/app'\nimport 'firebase/auth'\nimport router from './router'\nimport AOS from \"aos\";\nimport \"aos/dist/aos.css\";\nimport VModal from 'vue-js-modal'\nimport SocialSharing from 'vue-social-sharing'\nimport Loading from 'vue-loading-overlay'\nimport 'vue-loading-overlay/dist/vue-loading.css'\nimport currencyFilter from './filters/currencyFilter'\nimport infiniteScroll from 'vue-infinite-scroll'\nimport Vuelidate from 'vuelidate'\nimport Lightbox from 'vue-easy-lightbox'\nimport Toasted from 'vue-toasted';\nimport store from './store'\n\nVue.config.productionTip = false;\nVue.use(Toasted)\nVue.use(VModal, {\n  dialog: true\n})\nVue.use(SocialSharing);\nVue.component('Loading', Loading);\nVue.filter('currency', currencyFilter)\nVue.component('AddToCartModal', require('@/components/AddToCartModal.vue').default);\nVue.component('AddToCart', require('@/components/AddToCart.vue').default);\nVue.use(infiniteScroll);\nVue.use(Vuelidate)\nVue.use(Lightbox)\n\n\nlet app = null;\n\n// wait for firebase auth to init before creating the app\n//創建前先設定好帳號，當帳號狀態有變時啟動\nfirebase.auth().onAuthStateChanged(async user => {\n  if (user) {\n    await store.dispatch('auth/storeAuthUser', user)\n  }\n  //init app if not already created\n  if (!app) {\n    new Vue({\n\n      created() {\n        AOS.init({\n          // offset: 200,\n          duration: 800,\n          easing: 'ease-in-sine',\n          delay: 800,\n        })\n      },\n      router,\n      store,\n      render: h => h(App)\n    }).$mount('#app');\n\n\n    router.beforeEach((to, from, next) => {\n      const user = firebase.auth().currentUser;\n\n      if (to.meta.requiresAuth === true) {\n        //使用者必須登入才能進入頁面\n        if (user) {\n          //使用者必須通過購物車才能進結帳頁面\n          if (to.name === 'Checkout' && from.name !== 'Cart') {\n            Vue.toasted.error('請先確認購物車品項再結帳', {\n              duration: 3000\n            })\n            next({\n              name: 'Cart'\n            })\n          } else {\n            next();\n          }\n        } else {\n          Vue.toasted.error('請先登入或註冊會員', {\n            duration: 3000\n          })\n          next({\n            name: 'home'\n          })\n        }\n      } else {\n        next();\n      }\n    })\n  }\n})"]}]}