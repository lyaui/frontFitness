{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/src/store/cart.js","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/store/cart.js","mtime":1584878991154},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["export default {\n  namespaced: true,\n  state: function state() {\n    return {\n      cart: [],\n      coupon: false,\n      discount: 100,\n      total: {\n        //總原價\n        totalOrigin: 0,\n        //總折扣\n        totalDiscount: 0,\n        //總售價\n        totalPrice: 0\n      }\n    };\n  },\n  mutations: {\n    //加入購物車\n    addToCart: function addToCart(state, course) {\n      state.cart.push(course);\n    },\n    //移除購物車內容\n    removeItem: function removeItem(state, cart) {\n      var index = state.cart.indexOf(cart);\n      state.cart.splice(index, 1);\n    },\n    //加入購物券價格\n    addCouponCode: function addCouponCode(state, coupon) {\n      state.coupon = coupon;\n    },\n    //計算總價\n    total: function total(state) {\n      if (state.cart.length > 0) {\n        state.total.totalOrigin = state.cart.map(function (course) {\n          return course.price;\n        }).reduce(function (total, amount) {\n          return total + amount;\n        }); //若有coupon則計算，無則折扣為0\n\n        state.total.totalDiscount = state.coupon ? state.cart.filter(function (course) {\n          return course.discount;\n        }).length * state.discount : 0;\n        state.total.totalPrice = state.total.totalOrigin - state.total.totalDiscount;\n      } else {\n        state.total.coupon = false;\n        state.total.totalOrigin = 0;\n        state.total.totalDiscount = 0;\n        state.total.totalPrice = 0;\n      }\n    },\n    //結帳完成清空購物車\n    clearCart: function clearCart(state) {\n      state.cart = [];\n      state.total.totalOrigin = 0;\n      state.total.totalDiscount = 0;\n      state.total.totalPrice = 0;\n    }\n  }\n};",{"version":3,"sources":["/Users/huangpei-yu/Front-Gym/src/store/cart.js"],"names":["namespaced","state","cart","coupon","discount","total","totalOrigin","totalDiscount","totalPrice","mutations","addToCart","course","push","removeItem","index","indexOf","splice","addCouponCode","length","map","price","reduce","amount","filter","clearCart"],"mappings":"AAAA,eAAe;AACXA,EAAAA,UAAU,EAAE,IADD;AAEXC,EAAAA,KAFW,mBAEH;AACJ,WAAO;AACHC,MAAAA,IAAI,EAAE,EADH;AAEHC,MAAAA,MAAM,EAAE,KAFL;AAGHC,MAAAA,QAAQ,EAAE,GAHP;AAIHC,MAAAA,KAAK,EAAE;AACH;AACAC,QAAAA,WAAW,EAAE,CAFV;AAGH;AACAC,QAAAA,aAAa,EAAE,CAJZ;AAKH;AACAC,QAAAA,UAAU,EAAE;AANT;AAJJ,KAAP;AAaH,GAhBU;AAkBXC,EAAAA,SAAS,EAAE;AACP;AACAC,IAAAA,SAFO,qBAEGT,KAFH,EAEUU,MAFV,EAEkB;AACrBV,MAAAA,KAAK,CAACC,IAAN,CAAWU,IAAX,CAAgBD,MAAhB;AACH,KAJM;AAMP;AACAE,IAAAA,UAPO,sBAOIZ,KAPJ,EAOWC,IAPX,EAOiB;AACpB,UAAIY,KAAK,GAAGb,KAAK,CAACC,IAAN,CAAWa,OAAX,CAAmBb,IAAnB,CAAZ;AACAD,MAAAA,KAAK,CAACC,IAAN,CAAWc,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACH,KAVM;AAYP;AACAG,IAAAA,aAbO,yBAaOhB,KAbP,EAacE,MAbd,EAasB;AACzBF,MAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACH,KAfM;AAiBP;AACAE,IAAAA,KAlBO,iBAkBDJ,KAlBC,EAkBM;AACT,UAAIA,KAAK,CAACC,IAAN,CAAWgB,MAAX,GAAoB,CAAxB,EAA2B;AACvBjB,QAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0BL,KAAK,CAACC,IAAN,CAAWiB,GAAX,CAAe,UAAAR,MAAM;AAAA,iBAAIA,MAAM,CAACS,KAAX;AAAA,SAArB,EAAuCC,MAAvC,CAA8C,UAAChB,KAAD,EAAQiB,MAAR;AAAA,iBAAmBjB,KAAK,GAAGiB,MAA3B;AAAA,SAA9C,CAA1B,CADuB,CAEvB;;AACArB,QAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4BN,KAAK,CAACE,MAAN,GAAeF,KAAK,CAACC,IAAN,CAAWqB,MAAX,CAAkB,UAAAZ,MAAM;AAAA,iBAAIA,MAAM,CAACP,QAAX;AAAA,SAAxB,EAA6Cc,MAA7C,GAAsDjB,KAAK,CAACG,QAA3E,GAAsF,CAAlH;AACAH,QAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyBP,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0BL,KAAK,CAACI,KAAN,CAAYE,aAA/D;AAEH,OAND,MAMO;AACHN,QAAAA,KAAK,CAACI,KAAN,CAAYF,MAAZ,GAAqB,KAArB;AACAF,QAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0B,CAA1B;AACAL,QAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4B,CAA5B;AACAN,QAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyB,CAAzB;AACH;AACJ,KA/BM;AAiCP;AACAgB,IAAAA,SAlCO,qBAkCGvB,KAlCH,EAkCU;AACbA,MAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACAD,MAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0B,CAA1B;AACAL,MAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4B,CAA5B;AACAN,MAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyB,CAAzB;AACH;AAvCM;AAlBA,CAAf","sourcesContent":["export default {\n    namespaced: true,\n    state() {\n        return {\n            cart: [],\n            coupon: false,\n            discount: 100,\n            total: {\n                //總原價\n                totalOrigin: 0,\n                //總折扣\n                totalDiscount: 0,\n                //總售價\n                totalPrice: 0,\n            },\n        }\n    },\n\n    mutations: {\n        //加入購物車\n        addToCart(state, course) {\n            state.cart.push(course);\n        },\n\n        //移除購物車內容\n        removeItem(state, cart) {\n            let index = state.cart.indexOf(cart);\n            state.cart.splice(index, 1)\n        },\n\n        //加入購物券價格\n        addCouponCode(state, coupon) {\n            state.coupon = coupon;\n        },\n\n        //計算總價\n        total(state) {\n            if (state.cart.length > 0) {\n                state.total.totalOrigin = state.cart.map(course => course.price).reduce((total, amount) => total + amount);\n                //若有coupon則計算，無則折扣為0\n                state.total.totalDiscount = state.coupon ? state.cart.filter(course => course.discount).length * state.discount : 0\n                state.total.totalPrice = state.total.totalOrigin - state.total.totalDiscount;\n\n            } else {\n                state.total.coupon = false\n                state.total.totalOrigin = 0\n                state.total.totalDiscount = 0\n                state.total.totalPrice = 0\n            }\n        },\n\n        //結帳完成清空購物車\n        clearCart(state) {\n            state.cart = [];\n            state.total.totalOrigin = 0;\n            state.total.totalDiscount = 0;\n            state.total.totalPrice = 0;\n        }\n    }\n}"]}]}