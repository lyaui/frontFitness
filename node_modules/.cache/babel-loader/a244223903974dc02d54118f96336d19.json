{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js!/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/src/store/index.js","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/store/index.js","mtime":1583929133798},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/huangpei-yu/Front-Gym/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { vuexfireMutations } from 'vuexfire';\nimport 'firebase/storage';\nimport st from 'firebase/app'; //modules\n\nimport auth from \"./auth\";\nimport cart from \"./cart\";\nimport comments from \"./comments\";\nimport courses from \"./courses\";\nimport checkout from \"./checkout\"; //保持state狀態\n\nimport createPersistedState from 'vuex-persistedstate';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  //保持項目\n  plugins: [createPersistedState({\n    paths: ['courses.cat', 'courses.status', 'courses.course', 'courses.courses', 'cart.cart', 'checkout.payment']\n  })],\n  modules: {\n    auth: auth,\n    cart: cart,\n    comments: comments,\n    courses: courses,\n    checkout: checkout\n  },\n  state: function state() {\n    return {\n      isLoading: false,\n      downloadURL: null\n    };\n  },\n  actions: {\n    //上傳檔案\n    updateFile: function updateFile(_ref, _ref2) {\n      var commit = _ref.commit;\n      var file = _ref2.file,\n          place = _ref2.place;\n      var storageRef = st.storage().ref(place + file.name);\n      var uploadTask = storageRef.put(file);\n      uploadTask.on('state_changed', function (snapshot) {}, function (error) {}, function () {\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\n          commit('setDownloadUrl', downloadURL);\n        });\n      });\n    }\n  },\n  mutations: _objectSpread({}, vuexfireMutations, {\n    //loading\n    loading: function loading(state, status) {\n      state.isLoading = status;\n    },\n    setDownloadUrl: function setDownloadUrl(state, url) {\n      state.downloadURL = url;\n    }\n  })\n});",{"version":3,"sources":["/Users/huangpei-yu/Front-Gym/src/store/index.js"],"names":["Vue","Vuex","vuexfireMutations","st","auth","cart","comments","courses","checkout","createPersistedState","use","Store","plugins","paths","modules","state","isLoading","downloadURL","actions","updateFile","commit","file","place","storageRef","storage","ref","name","uploadTask","put","on","snapshot","error","getDownloadURL","then","mutations","loading","status","setDownloadUrl","url"],"mappings":";;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACIC,iBADJ,QAEO,UAFP;AAGA,OAAO,kBAAP;AACA,OAAOC,EAAP,MAAe,cAAf,C,CAEA;;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;AACA,OAAOC,QAAP,mB,CAEA;;AACA,OAAOC,oBAAP,MAAiC,qBAAjC;AAEAT,GAAG,CAACU,GAAJ,CAAQT,IAAR;AAGA,eAAe,IAAIA,IAAI,CAACU,KAAT,CAAe;AAC1B;AACAC,EAAAA,OAAO,EAAE,CAACH,oBAAoB,CAAC;AAC3BI,IAAAA,KAAK,EAAE,CAAC,aAAD,EAAgB,gBAAhB,EAAkC,gBAAlC,EACH,iBADG,EACgB,WADhB,EAC6B,kBAD7B;AADoB,GAAD,CAArB,CAFiB;AAQ1BC,EAAAA,OAAO,EAAE;AACLV,IAAAA,IAAI,EAAJA,IADK;AAELC,IAAAA,IAAI,EAAJA,IAFK;AAGLC,IAAAA,QAAQ,EAARA,QAHK;AAILC,IAAAA,OAAO,EAAPA,OAJK;AAKLC,IAAAA,QAAQ,EAARA;AALK,GARiB;AAgB1BO,EAAAA,KAhB0B,mBAgBlB;AACJ,WAAO;AACHC,MAAAA,SAAS,EAAE,KADR;AAEHC,MAAAA,WAAW,EAAE;AAFV,KAAP;AAIH,GArByB;AAsB1BC,EAAAA,OAAO,EAAE;AACL;AACAC,IAAAA,UAFK,mCAOF;AAAA,UAJCC,MAID,QAJCA,MAID;AAAA,UAFCC,IAED,SAFCA,IAED;AAAA,UADCC,KACD,SADCA,KACD;AACC,UAAMC,UAAU,GAAGpB,EAAE,CAACqB,OAAH,GAAaC,GAAb,CAAiBH,KAAK,GAAGD,IAAI,CAACK,IAA9B,CAAnB;AACA,UAAMC,UAAU,GAAGJ,UAAU,CAACK,GAAX,CAAeP,IAAf,CAAnB;AACAM,MAAAA,UAAU,CAACE,EAAX,CAAc,eAAd,EAA+B,UAACC,QAAD,EAAc,CAAE,CAA/C,EAAiD,UAACC,KAAD,EAAW,CAAE,CAA9D,EAAgE,YAAM;AAClEJ,QAAAA,UAAU,CAACG,QAAX,CAAoBL,GAApB,CAAwBO,cAAxB,GACKC,IADL,CACU,UAAAhB,WAAW,EAAI;AACjBG,UAAAA,MAAM,CAAC,gBAAD,EAAmBH,WAAnB,CAAN;AACH,SAHL;AAIH,OALD;AAMH;AAhBI,GAtBiB;AAyC1BiB,EAAAA,SAAS,oBACFhC,iBADE;AAGL;AACAiC,IAAAA,OAJK,mBAIGpB,KAJH,EAIUqB,MAJV,EAIkB;AACnBrB,MAAAA,KAAK,CAACC,SAAN,GAAkBoB,MAAlB;AACH,KANI;AAOLC,IAAAA,cAPK,0BAOUtB,KAPV,EAOiBuB,GAPjB,EAOsB;AACvBvB,MAAAA,KAAK,CAACE,WAAN,GAAoBqB,GAApB;AACH;AATI;AAzCiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {\n    vuexfireMutations\n} from 'vuexfire'\nimport 'firebase/storage'\nimport st from 'firebase/app'\n\n//modules\nimport auth from './auth'\nimport cart from './cart'\nimport comments from './comments'\nimport courses from './courses'\nimport checkout from './checkout'\n\n//保持state狀態\nimport createPersistedState from 'vuex-persistedstate'\n\nVue.use(Vuex)\n\n\nexport default new Vuex.Store({\n    //保持項目\n    plugins: [createPersistedState({\n        paths: ['courses.cat', 'courses.status', 'courses.course',\n            'courses.courses', 'cart.cart', 'checkout.payment'\n        ],\n    })],\n\n    modules: {\n        auth,\n        cart,\n        comments,\n        courses,\n        checkout\n    },\n\n    state() {\n        return {\n            isLoading: false,\n            downloadURL: null,\n        }\n    },\n    actions: {\n        //上傳檔案\n        updateFile({\n            commit\n        }, {\n            file,\n            place\n        }) {\n            const storageRef = st.storage().ref(place + file.name);\n            const uploadTask = storageRef.put(file);\n            uploadTask.on('state_changed', (snapshot) => {}, (error) => {}, () => {\n                uploadTask.snapshot.ref.getDownloadURL()\n                    .then(downloadURL => {\n                        commit('setDownloadUrl', downloadURL)\n                    })\n            });\n        },\n    },\n\n    mutations: {\n        ...vuexfireMutations,\n\n        //loading\n        loading(state, status) {\n            state.isLoading = status\n        },\n        setDownloadUrl(state, url) {\n            state.downloadURL = url\n        }\n    },\n}, )"]}]}