{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js!/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/src/store/cart.js","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/store/cart.js","mtime":1584956464462},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["export default {\n  namespaced: true,\n  state: function state() {\n    return {\n      cart: [],\n      coupon: false,\n      discount: 100,\n      total: {\n        // 總原價\n        totalOrigin: 0,\n        // 總折扣\n        totalDiscount: 0,\n        // 總售價\n        totalPrice: 0\n      }\n    };\n  },\n  mutations: {\n    // 加入購物車\n    addToCart: function addToCart(state, course) {\n      state.cart.push(course);\n    },\n    // 移除購物車內容\n    removeItem: function removeItem(state, cart) {\n      var index = state.cart.indexOf(cart);\n      state.cart.splice(index, 1);\n    },\n    // 加入購物券價格\n    addCouponCode: function addCouponCode(state, coupon) {\n      state.coupon = coupon;\n    },\n    // 計算總價\n    total: function total(state) {\n      if (state.cart.length > 0) {\n        state.total.totalOrigin = state.cart.map(function (course) {\n          return course.price;\n        }).reduce(function (total, amount) {\n          return total + amount;\n        }); // 若有coupon則計算，無則折扣為0\n\n        state.total.totalDiscount = state.coupon ? state.cart.filter(function (course) {\n          return course.discount;\n        }).length * state.discount : 0;\n        state.total.totalPrice = state.total.totalOrigin - state.total.totalDiscount;\n      } else {\n        state.total.coupon = false;\n        state.total.totalOrigin = 0;\n        state.total.totalDiscount = 0;\n        state.total.totalPrice = 0;\n      }\n    },\n    // 結帳完成清空購物車\n    clearCart: function clearCart(state) {\n      state.cart = [];\n      state.total.totalOrigin = 0;\n      state.total.totalDiscount = 0;\n      state.total.totalPrice = 0;\n    }\n  }\n};",{"version":3,"sources":["/Users/huangpei-yu/Front-Gym/src/store/cart.js"],"names":["namespaced","state","cart","coupon","discount","total","totalOrigin","totalDiscount","totalPrice","mutations","addToCart","course","push","removeItem","index","indexOf","splice","addCouponCode","length","map","price","reduce","amount","filter","clearCart"],"mappings":"AAAA,eAAe;AACbA,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAFa,mBAEL;AACN,WAAO;AACLC,MAAAA,IAAI,EAAE,EADD;AAELC,MAAAA,MAAM,EAAE,KAFH;AAGLC,MAAAA,QAAQ,EAAE,GAHL;AAILC,MAAAA,KAAK,EAAE;AACL;AACAC,QAAAA,WAAW,EAAE,CAFR;AAGL;AACAC,QAAAA,aAAa,EAAE,CAJV;AAKL;AACAC,QAAAA,UAAU,EAAE;AANP;AAJF,KAAP;AAaD,GAhBY;AAkBbC,EAAAA,SAAS,EAAE;AACT;AACAC,IAAAA,SAFS,qBAECT,KAFD,EAEQU,MAFR,EAEgB;AACvBV,MAAAA,KAAK,CAACC,IAAN,CAAWU,IAAX,CAAgBD,MAAhB;AACD,KAJQ;AAMT;AACAE,IAAAA,UAPS,sBAOEZ,KAPF,EAOSC,IAPT,EAOe;AACtB,UAAMY,KAAK,GAAGb,KAAK,CAACC,IAAN,CAAWa,OAAX,CAAmBb,IAAnB,CAAd;AACAD,MAAAA,KAAK,CAACC,IAAN,CAAWc,MAAX,CAAkBF,KAAlB,EAAyB,CAAzB;AACD,KAVQ;AAYT;AACAG,IAAAA,aAbS,yBAaKhB,KAbL,EAaYE,MAbZ,EAaoB;AAC3BF,MAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACD,KAfQ;AAiBT;AACAE,IAAAA,KAlBS,iBAkBHJ,KAlBG,EAkBI;AACX,UAAIA,KAAK,CAACC,IAAN,CAAWgB,MAAX,GAAoB,CAAxB,EAA2B;AACzBjB,QAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0BL,KAAK,CAACC,IAAN,CAAWiB,GAAX,CAAe,UAACR,MAAD;AAAA,iBAAYA,MAAM,CAACS,KAAnB;AAAA,SAAf,EAAyCC,MAAzC,CAAgD,UAAChB,KAAD,EAAQiB,MAAR;AAAA,iBAAmBjB,KAAK,GAAGiB,MAA3B;AAAA,SAAhD,CAA1B,CADyB,CAEzB;;AACArB,QAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4BN,KAAK,CAACE,MAAN,GAAeF,KAAK,CAACC,IAAN,CAAWqB,MAAX,CAAkB,UAACZ,MAAD;AAAA,iBAAYA,MAAM,CAACP,QAAnB;AAAA,SAAlB,EAA+Cc,MAA/C,GAAwDjB,KAAK,CAACG,QAA7E,GAAwF,CAApH;AACAH,QAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyBP,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0BL,KAAK,CAACI,KAAN,CAAYE,aAA/D;AACD,OALD,MAKO;AACLN,QAAAA,KAAK,CAACI,KAAN,CAAYF,MAAZ,GAAqB,KAArB;AACAF,QAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0B,CAA1B;AACAL,QAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4B,CAA5B;AACAN,QAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyB,CAAzB;AACD;AACF,KA9BQ;AAgCT;AACAgB,IAAAA,SAjCS,qBAiCCvB,KAjCD,EAiCQ;AACfA,MAAAA,KAAK,CAACC,IAAN,GAAa,EAAb;AACAD,MAAAA,KAAK,CAACI,KAAN,CAAYC,WAAZ,GAA0B,CAA1B;AACAL,MAAAA,KAAK,CAACI,KAAN,CAAYE,aAAZ,GAA4B,CAA5B;AACAN,MAAAA,KAAK,CAACI,KAAN,CAAYG,UAAZ,GAAyB,CAAzB;AACD;AAtCQ;AAlBE,CAAf","sourcesContent":["export default {\n  namespaced: true,\n  state() {\n    return {\n      cart: [],\n      coupon: false,\n      discount: 100,\n      total: {\n        // 總原價\n        totalOrigin: 0,\n        // 總折扣\n        totalDiscount: 0,\n        // 總售價\n        totalPrice: 0,\n      },\n    };\n  },\n\n  mutations: {\n    // 加入購物車\n    addToCart(state, course) {\n      state.cart.push(course);\n    },\n\n    // 移除購物車內容\n    removeItem(state, cart) {\n      const index = state.cart.indexOf(cart);\n      state.cart.splice(index, 1);\n    },\n\n    // 加入購物券價格\n    addCouponCode(state, coupon) {\n      state.coupon = coupon;\n    },\n\n    // 計算總價\n    total(state) {\n      if (state.cart.length > 0) {\n        state.total.totalOrigin = state.cart.map((course) => course.price).reduce((total, amount) => total + amount);\n        // 若有coupon則計算，無則折扣為0\n        state.total.totalDiscount = state.coupon ? state.cart.filter((course) => course.discount).length * state.discount : 0;\n        state.total.totalPrice = state.total.totalOrigin - state.total.totalDiscount;\n      } else {\n        state.total.coupon = false;\n        state.total.totalOrigin = 0;\n        state.total.totalDiscount = 0;\n        state.total.totalPrice = 0;\n      }\n    },\n\n    // 結帳完成清空購物車\n    clearCart(state) {\n      state.cart = [];\n      state.total.totalOrigin = 0;\n      state.total.totalDiscount = 0;\n      state.total.totalPrice = 0;\n    },\n  },\n};\n"]}]}