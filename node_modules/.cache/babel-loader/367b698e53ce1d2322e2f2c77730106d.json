{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js!/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js!/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangpei-yu/Front-Gym/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/views/Profile.vue","mtime":1580801945678},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { fb, db } from \"@/firebase/init\";\nimport moment from \"moment\";\nexport default {\n  data: function data() {\n    return {\n      user: null,\n      // user: {\n      //   // name: null,\n      //   // phone: null,\n      //   // address: null,\n      //   // postcode: null\n      // },\n      payments: null,\n      account: {\n        name: null,\n        email: null,\n        photoUrl: null,\n        emailVerified: null,\n        password: null,\n        confirmPassword: null,\n        uid: null\n      }\n    };\n  },\n  firestore: function firestore() {\n    var user = fb.auth().currentUser;\n    return {\n      user: db.collection(\"users\").doc(user.uid),\n      payments: db.collection(\"payments\").where(\"userId\", \"==\", user.uid)\n    };\n  },\n  methods: {\n    time: function time(num) {\n      return moment(num).format(\"YYYY/MM/DD HH:mm\");\n    },\n    updateUser: function updateUser() {// this.$firestore.courses.doc(this.course.id).update(this.course);\n      // this.$firestore.persons.doc(person[\".key\"]).update({\n      //   name: \"Amrani Houssain\",\n      //   github: \"@amranidev\"\n      // });\n    },\n    updateImage: function updateImage() {},\n    resetPassword: function resetPassword() {\n      var auth = firebase.auth();\n      var emailAddress = \"user@example.com\";\n      auth.sendPasswordResetEmail(emailAddress).then(function () {// Email sent.\n      }).catch(function (error) {// An error happened.\n      });\n    }\n  },\n  created: function created() {}\n};",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA,SAAA,EAAA,EAAA,EAAA,QAAA,iBAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,QAAA,EAAA,IARA;AASA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,QAAA,EAAA,IAHA;AAIA,QAAA,aAAA,EAAA,IAJA;AAKA,QAAA,QAAA,EAAA,IALA;AAMA,QAAA,eAAA,EAAA,IANA;AAOA,QAAA,GAAA,EAAA;AAPA;AATA,KAAA;AAmBA,GArBA;AAsBA,EAAA,SAtBA,uBAsBA;AACA,QAAA,IAAA,GAAA,EAAA,CAAA,IAAA,GAAA,WAAA;AAEA,WAAA;AACA,MAAA,IAAA,EAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,GAAA;AAFA,KAAA;AAIA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,GADA,EACA;AACA,aAAA,MAAA,CAAA,GAAA,CAAA,CAAA,MAAA,CAAA,kBAAA,CAAA;AACA,KAHA;AAIA,IAAA,UAJA,wBAIA,CACA;AACA;AACA;AACA;AACA;AACA,KAVA;AAWA,IAAA,WAXA,yBAWA,CAAA,CAXA;AAYA,IAAA,aAZA,2BAYA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,IAAA,EAAA;AACA,UAAA,YAAA,GAAA,kBAAA;AAEA,MAAA,IAAA,CACA,sBADA,CACA,YADA,EAEA,IAFA,CAEA,YAAA,CACA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA,CACA;AACA,OAPA;AAQA;AAxBA,GA9BA;AAwDA,EAAA,OAxDA,qBAwDA,CAAA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <loading :active.sync=\"isLoading\" :color=\"'#ff5722'\"></loading>\n    <h2 class=\"heading-secondary\">個人資訊</h2>\n\n    <div class=\"profile-admin mb-md\">\n      <div class=\"heading-tertiary--dark mb-sm\">\n        <i class=\"fas fa-cog\"></i>帳號設定\n      </div>\n      <p class=\"mb-sm\">\n        請確認姓名、電子郵件、密碼是否已設定好，如已設定完成，務必確認上述資訊為最新資訊。\n        （\n        <span class=\"text-highlight\">*</span> 為必填欄位）\n      </p>\n      <div class=\"profile-admin__form\">\n        <div class=\"profile-admin__img\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">\n              個人檔案圖片\n              <span class=\"text-highlight\">*</span>\n            </label>\n            <img v-if=\"user.userImg\" class :src=\"user.userImg\" alt>\n            <img\n              v-if=\"!user.userImg\"\n              class\n              src=\"https://png2.pngtree.com/svg/20161215/9bc7bae28b.png\"\n              alt\n            >\n          </div>\n        </div>\n\n        <div class=\"profile-admin__info\">\n          <div class=\"form__row\">\n            <div class=\"form__group\">\n              <label class=\"form__label\">\n                姓名\n                <span class=\"text-highlight\">*</span>\n              </label>\n              <input class=\"form__input\" v-model=\"user.name\">\n            </div>\n            <div class=\"form__group\">\n              <label class=\"form__label\">\n                電子信箱（不可變更）\n                <span class=\"text-highlight\">*</span>\n              </label>\n              <input class=\"form__input\" v-model=\"user.email\" disabled>\n            </div>\n          </div>\n          <div class=\"form__row\">\n            <div class=\"form__group\">\n              <label class=\"form__label\">\n                舊密碼\n                <span class=\"text-highlight\">*</span>\n              </label>\n              <input class=\"form__input\" type=\"password\">\n            </div>\n            <div class=\"form__group\">\n              <label class=\"form__label\">新密碼</label>\n              <input class=\"form__input\" type=\"password\">\n            </div>\n          </div>\n          <div class=\"form__row\">\n            <div class=\"form__group\">\n              <label class=\"form__label\" for>輸入圖片網址</label>\n              <input class=\"form__input\" type=\"text\" v-model=\"user.userImg\">\n            </div>\n            <div class=\"form__group\">\n              <label class=\"form__label\">上傳頭像</label>\n              <input class=\"form__input\" type=\"file\">\n            </div>\n          </div>\n          <div class=\"form__row\">\n            <div class=\"form__group\">\n              <button @click=\"updateUser()\">修改</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"profile-admin mb-md mt-md\">\n      <div class=\"heading-tertiary--dark mb-sm\">\n        <i class=\"fas fa-file-invoice-dollar\"></i> 訂單紀錄\n      </div>\n      <p class=\"mb-sm\">商品進入購物車並填寫完購買資訊以後，該筆訂單即成立，這裡您可以查看所有訂單詳細資訊，掌握每一筆交易狀況</p>\n      <div\n        class=\"profile-admin__order\"\n        v-for=\"payment in payments\"\n        v-if=\"payments\"\n        :class=\"{'profile-admin__order--notpay':!payment.status}\"\n        :key=\"payment.id\"\n      >\n        <div class=\"d-flex-column\">\n          <div class=\"profile-admin__order-info\">\n            <p class=\"profile-admin__order-number\">訂單編號：{{payment.id}}</p>\n            <p>\n              <template v-if=\"!payment.status\">\n                <i class=\"fas fa-exclamation-triangle\" style=\"color:#ff5721\"></i> 尚未付款\n              </template>\n              <template v-if=\"payment.status\">\n                <i class=\"fas fa-check-circle\" style=\"color:#0fc195\"></i> 付款完成\n              </template>\n            </p>\n          </div>\n          <p>訂單成立：{{time(payment.timestamp)}}</p>\n          <p>付款方式：{{payment.payWay}}</p>\n        </div>\n\n        <table class=\"checkout-table\">\n          <thead>\n            <tr>\n              <th>課程名稱</th>\n              <th class=\"d-none-phone\">購買方案</th>\n              <th class=\"d-none-phone\">原價</th>\n              <th>售價</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"course in payment.courses\" :key=\"course.title\">\n              <td>{{course.title}}</td>\n\n              <td class=\"d-none-phone\">\n                <template v-if=\"course.discount\">精選優惠</template>\n                <template v-else>課程售價</template>\n              </td>\n              <td class=\"d-none-phone\" style=\"text-align:right\">{{course.price|currency}}</td>\n              <td style=\"text-align:right\">{{course.sellingPrice|currency}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"checkout-payment__total\">\n          實付金額\n          <b class=\"ml-sm\">{{payment.total|currency}}</b>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fb, db } from \"@/firebase/init\";\nimport moment from \"moment\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n      // user: {\n      //   // name: null,\n      //   // phone: null,\n      //   // address: null,\n      //   // postcode: null\n      // },\n      payments: null,\n      account: {\n        name: null,\n        email: null,\n        photoUrl: null,\n        emailVerified: null,\n        password: null,\n        confirmPassword: null,\n        uid: null\n      }\n    };\n  },\n  firestore() {\n    var user = fb.auth().currentUser;\n\n    return {\n      user: db.collection(\"users\").doc(user.uid),\n      payments: db.collection(\"payments\").where(\"userId\", \"==\", user.uid)\n    };\n  },\n  methods: {\n    time(num) {\n      return moment(num).format(\"YYYY/MM/DD HH:mm\");\n    },\n    updateUser() {\n      // this.$firestore.courses.doc(this.course.id).update(this.course);\n      // this.$firestore.persons.doc(person[\".key\"]).update({\n      //   name: \"Amrani Houssain\",\n      //   github: \"@amranidev\"\n      // });\n    },\n    updateImage() {},\n    resetPassword() {\n      var auth = firebase.auth();\n      var emailAddress = \"user@example.com\";\n\n      auth\n        .sendPasswordResetEmail(emailAddress)\n        .then(function() {\n          // Email sent.\n        })\n        .catch(function(error) {\n          // An error happened.\n        });\n    }\n  },\n  created() {}\n};\n</script>"],"sourceRoot":"src/views"}]}