{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangpei-yu/Front-Gym/src/views/test.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/views/test.vue","mtime":1573644161943},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport $ from \"jquery\";\nimport { fb, db } from \"@/firebase/init\";\nimport Swal from \"sweetalert2\";\nimport NavBar from \"@/components/NavBar\";\nimport StepBar from \"@/components/StepBar\";\nimport Footer from \"@/components/Footer\";\nimport Announcebar from \"@/components/Announcebar\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n      coupon: false,\n      couponCode: null,\n      feeddback: null,\n      couponCourse: null,\n      status: \"cart\"\n    };\n  },\n  computed: {\n    totalPrice() {\n      return this.coupon\n        ? (this.total =\n            this.$store.getters.totalOrigin - this.$store.getters.totalCoupon)\n        : (this.total = this.$store.getters.totalOrigin);\n    },\n    remainZero() {\n      return this.$store.state.cart.find(course => course.remainQuantity === 0);\n    }\n  },\n  methods: {\n    addCouponCode() {\n      if (this.couponCode === \"LOVEFITTING\") {\n        if (this.$store.state.discount > 0) {\n          this.feeddback = \"已成功套用優惠券\";\n          this.coupon = true;\n        } else {\n          this.feeddback = \"無符合活動優惠之課程\";\n        }\n      } else {\n        this.feeddback = \"代碼不存在，請再次確認\";\n      }\n      this.$store.commit(\"addCouponCode\", this.coupon);\n    },\n    checkOut() {\n      if (this.user && this.$store.state.cart.length > 0) {\n        this.$store.commit(\"checkRemains\");\n        this.$router.push(\"/checkout\");\n      } else {\n        if (this.$store.state.cart.length === 0) {\n          Swal.fire({\n            title: \"請至少選擇一門課程\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 800\n          });\n        } else {\n          Swal.fire({\n            title: \"請先登入或註冊會員\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 800\n          });\n        }\n      }\n    }\n  },\n  components: {\n    NavBar,\n    StepBar,\n    Footer,\n    Announcebar\n  },\n  created() {\n    this.user = fb.auth().currentUser;\n    this.$store.commit(\"totalPrice\");\n  }\n};\n",{"version":3,"sources":["test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"test.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <NavBar></NavBar>\n    <main class=\"courses-main\">\n      Lorem ipsum dolor, sit amet consectetur adipisicing elit. Omnis, explicabo esse necessitatibus animi eum sapiente illum, corrupti, vero neque iusto nobis labore non rem repellendus eveniet optio aperiam beatae. Sit quasi aut ullam earum ea officiis laborum asperiores necessitatibus quo saepe hic quae autem dicta optio velit consectetur aliquam expedita amet unde consequatur dolor, dolorem impedit. Quae corporis aliquam distinctio reprehenderit aspernatur id! Deserunt optio sit vero! Velit quia optio animi beatae consequatur. Neque ratione laborum magnam ea nesciunt officiis sapiente perferendis, labore possimus earum ex ipsum impedit repellat voluptates dolor ipsa saepe rem! Minus et, perferendis in possimus ipsa nobis illum illo porro. Temporibus quidem, recusandae enim explicabo odit animi. Corrupti optio quod, quos maxime sequi officia, dicta unde officiis, deleniti non suscipit voluptatem modi sit fugiat quo maiores? Dignissimos, nisi. Veniam eligendi dolorem alias iste, molestiae dignissimos deleniti laboriosam odio fuga nisi totam sed, explicabo reiciendis, exercitationem nemo debitis expedita porro minima corporis odit eius similique nobis. Officiis ratione distinctio soluta voluptate, magni cum, repellat delectus consectetur doloribus dolor numquam tempore. Labore cupiditate, minus laudantium nostrum fuga voluptate! Accusamus aspernatur nemo tenetur, ab esse enim optio quam mollitia officia beatae nulla ad quidem ratione fugiat recusandae sit expedita atque modi provident! Dolor laudantium reiciendis harum magni in maiores velit id! Error sapiente reprehenderit nulla sit dolorem eos enim rem incidunt quaerat molestias vel sint tempora, ex quo, recusandae, qui explicabo quibusdam itaque dolore? Necessitatibus explicabo aliquid eius modi consequatur, dolores eos inventore perspiciatis exercitationem dolorem culpa labore odio? Ipsum rem maxime aliquam blanditiis dolores adipisci ratione eum provident, modi accusamus pariatur, nostrum voluptates, ab ullam recusandae. Quam repudiandae aliquid debitis deserunt ea culpa, sapiente tempora, accusantium dolorum quisquam autem a. Ratione sit, hic officiis magni odio, voluptates obcaecati quisquam beatae minus, libero asperiores officia porro architecto voluptatem dolorem tempora dolores magnam dolorum quidem tempore rem laudantium inventore. Sint minus dolorem commodi dignissimos non sunt fuga debitis sed illo suscipit voluptatem expedita nobis quia, impedit, iure consequuntur numquam tenetur? Quia accusantium veritatis reprehenderit officia fugiat ad ratione dignissimos vel voluptas nulla autem corrupti repellat tenetur nam, rem possimus porro similique? Repellendus dolor odit tenetur nemo quam tempora quod adipisci earum facilis, consectetur voluptates sint suscipit a quo officia omnis obcaecati dicta magnam. Cupiditate maxime fuga dignissimos culpa quidem repudiandae libero accusantium, suscipit praesentium natus dicta at autem obcaecati voluptas consequatur rem sunt architecto odio labore, quo vel! Nesciunt officiis atque sint fugit temporibus quidem aut? Repellat fugiat, reiciendis soluta consequuntur corporis enim pariatur. Culpa ullam dicta, suscipit odit molestiae pariatur veritatis, alias quisquam fugit repudiandae cumque eligendi, in debitis itaque rem ratione illum. Ea quia in amet numquam iste omnis iusto harum qui blanditiis molestias, culpa aliquid natus corrupti voluptatum ducimus assumenda ad. Eaque beatae iusto dicta velit vel tempore hic optio fugit dolores obcaecati, ut repellat quam veniam molestiae facere iure ipsum expedita quisquam earum adipisci dolorum dolore nobis ab suscipit? Incidunt voluptas atque, pariatur corporis eaque, fuga id non nesciunt adipisci commodi magni. Veritatis provident obcaecati minus!\n      <div class=\"container\">\n        <StepBar :status=\"status\"></StepBar>\n        <div class=\"checkout\">\n          <div class=\"checkout__items\">\n            <div class=\"heading-tertiary--dark mb-sm\">\n              <i class=\"fas fa-shopping-cart fa-lg\"></i>\n              購物車中有 {{this.$store.state.cart.length}} 門課程\n            </div>\n            <ul class=\"checkout__list\">\n              <li class=\"cart__item\" v-for=\"course in this.$store.state.cart\">\n                <router-link\n                  class=\"cart__link\"\n                  :to=\"{name:'CourseDetails',params:{course_name:course.title}}\"\n                >\n                  <img class=\"cart__img\" :src=\"course.imageUrl\" :alt=\"course.title\">\n\n                  <div class=\"cart__info\">\n                    <div class=\"cart__title\">{{course.title}}</div>\n                    <div class=\"d-flex\">\n                      <div class=\"cart__category\">{{course.categorySelected}}｜</div>\n                      <div class=\"cart__coach\">{{course.coach}}｜</div>\n                      <div class=\"cart__time\">{{course.week}} {{course.time}}</div>\n                    </div>\n                    <span class=\"text-warning\" v-if=\"coupon&&course.discount\">已成功套用優惠券</span>\n                    <span class=\"text-warning\" v-if=\"course.remainQuantity===0\">此課程已額滿，請移除並選擇其他課程</span>\n                  </div>\n                </router-link>\n                <div class=\"d-flex\">\n                  <div class=\"cart__price\">\n                    <div\n                      v-if=\"!coupon||!course.discount\"\n                      class=\"cart__price--origin\"\n                    >{{course.price|currency}}</div>\n                    <div\n                      v-if=\"coupon&&course.discount\"\n                      class=\"cart__price--origin\"\n                    >{{course.price-100|currency}}</div>\n                    <div\n                      class=\"cart__price--discount\"\n                      v-if=\"coupon&&course.discount\"\n                    >{{course.price|currency}}</div>\n                  </div>\n\n                  <button class=\"cart__remove btn\" @click=\"$store.commit('removeItem',course)\">\n                    <i class=\"far fa-trash-alt\"></i>\n                  </button>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class=\"checkout__summary\">\n            <div class=\"checkout__summary-title heading-tertiary--dark\">訂單明細</div>\n\n            <div class=\"checkout__summary-price\">\n              <div>原價</div>\n              <div>{{$store.state.totalOrigin|currency}}</div>\n            </div>\n            <div class=\"checkout__summary-price\" v-if=\"coupon\">\n              <div>優惠券折扣</div>\n              <div>-{{$store.state.discount|currency}}</div>\n            </div>\n            <div class=\"checkout__summary-total\">\n              <div>總計</div>\n              <h3>{{$store.state.total|currency}}</h3>\n            </div>\n\n            <div class=\"checkout__coupon\">\n              <div class=\"form__label\">使用折扣代碼</div>\n              <div class=\"d-flex\">\n                <input\n                  class=\"checkout__coupon-code\"\n                  type=\"text\"\n                  v-model.trim=\"couponCode\"\n                  placeholder=\"請輸入優惠券\"\n                  :disabled=\"coupon\"\n                >\n\n                <button\n                  class=\"swal2-confirm swal2-styled checkout__coupon-btn\"\n                  style=\"display: inline-block; background-color: rgb(255, 87, 33); border-left-color: rgb(255, 87, 33); border-right-color: rgb(255, 87, 33);\"\n                  @click.prevent=\"addCouponCode()\"\n                  :disabled=\"coupon\"\n                  :style=\"coupon?{backgroundColor:'#aaaaaa'}:{backgroundColor:'#ff5721'}\"\n                >確定</button>\n              </div>\n              <span class=\"text-warning\">{{feeddback}}</span>\n            </div>\n\n            <button\n              class=\"swal2-confirm swal2-styled\"\n              style=\"display: inline-block; background-color: rgb(255, 87, 33); border-left-color: rgb(255, 87, 33); border-right-color: rgb(255, 87, 33);\"\n              :disabled=\"remainZero\"\n              :style=\"remainZero?{backgroundColor:'#aaaaaa'}:{backgroundColor:'#ff5721'}\"\n              @click=\"checkOut()\"\n            >\n              <template v-if=\"!remainZero\">確定結帳</template>\n              <template v-if=\"remainZero\">請刪除額滿課程</template>\n            </button>\n          </div>\n        </div>\n      </div>\n    </main>\n    <Footer></Footer>\n    <Announcebar></Announcebar>\n  </div>\n</template>\n\n<script>\nimport $ from \"jquery\";\nimport { fb, db } from \"@/firebase/init\";\nimport Swal from \"sweetalert2\";\nimport NavBar from \"@/components/NavBar\";\nimport StepBar from \"@/components/StepBar\";\nimport Footer from \"@/components/Footer\";\nimport Announcebar from \"@/components/Announcebar\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n      coupon: false,\n      couponCode: null,\n      feeddback: null,\n      couponCourse: null,\n      status: \"cart\"\n    };\n  },\n  computed: {\n    totalPrice() {\n      return this.coupon\n        ? (this.total =\n            this.$store.getters.totalOrigin - this.$store.getters.totalCoupon)\n        : (this.total = this.$store.getters.totalOrigin);\n    },\n    remainZero() {\n      return this.$store.state.cart.find(course => course.remainQuantity === 0);\n    }\n  },\n  methods: {\n    addCouponCode() {\n      if (this.couponCode === \"LOVEFITTING\") {\n        if (this.$store.state.discount > 0) {\n          this.feeddback = \"已成功套用優惠券\";\n          this.coupon = true;\n        } else {\n          this.feeddback = \"無符合活動優惠之課程\";\n        }\n      } else {\n        this.feeddback = \"代碼不存在，請再次確認\";\n      }\n      this.$store.commit(\"addCouponCode\", this.coupon);\n    },\n    checkOut() {\n      if (this.user && this.$store.state.cart.length > 0) {\n        this.$store.commit(\"checkRemains\");\n        this.$router.push(\"/checkout\");\n      } else {\n        if (this.$store.state.cart.length === 0) {\n          Swal.fire({\n            title: \"請至少選擇一門課程\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 800\n          });\n        } else {\n          Swal.fire({\n            title: \"請先登入或註冊會員\",\n            type: \"warning\",\n            showConfirmButton: false,\n            timer: 800\n          });\n        }\n      }\n    }\n  },\n  components: {\n    NavBar,\n    StepBar,\n    Footer,\n    Announcebar\n  },\n  created() {\n    this.user = fb.auth().currentUser;\n    this.$store.commit(\"totalPrice\");\n  }\n};\n</script>"]}]}