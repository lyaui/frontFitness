{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangpei-yu/Front-Gym/src/components/Comments.vue?vue&type=template&id=4e6989a8&","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/components/Comments.vue","mtime":1583597315303},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"course-rating\">\n  <!-- 評分顯示 -->\n  <section class=\"course-rating\">\n    <div class=\"heading-tertiary--dark mb-sm\">課程評分</div>\n    <div class=\"course-rating__box\">\n      <div class=\"course-rating__avg-rating\">\n        <div class=\"course-rating__rating-figure\">{{avgRating}}</div>\n        <div class=\"course-rating__user\">\n          <i class=\"fas fa-user\"></i>\n          <div>{{ratings.length}}位學員評分</div>\n        </div>\n      </div>\n      <!-- bar -->\n      <div class=\"course-rating__rating-bars\">\n        <div class=\"course-rating__rating-bar\" v-for=\"(percent,i) in ratingsSorted\" :key=\"i\">\n          <div class=\"course-rating__bar\">\n            <span class=\"course-rating__bar-progress\" :style=\"{width:percent+'%'}\"></span>\n          </div>\n\n          <div class=\"d-flex\">\n            <star-rating\n              :star-size=\"16\"\n              :read-only=\"true\"\n              :rounded-corners=\"true\"\n              :rating=\"(5-i)\"\n              :show-rating=\"false\"\n            ></star-rating>\n            <div class=\"course-rating__bar-num\">{{percent}} %</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  <!-- 輸入評分區 -->\n  <section>\n    <div class=\"heading-tertiary--dark mb-sm\">評論</div>\n    <div class=\"user-comment\" v-if=\"inputShow\">\n      <div class=\"user-comment__img-box\">\n        <img class=\"user-comment__img\" :src=\"currentUser.profile.userImg\" v-if=\"currentUser\">\n        <img\n          class=\"user-comment__img\"\n          src=\"https://png2.pngtree.com/svg/20161215/9bc7bae28b.png\"\n          v-else\n        >\n      </div>\n      <div class=\"user-comment__content\">\n        <div class=\"user-comment__info\">\n          <div v-if=\"currentUser\">\n            <i class=\"fas fa-user\"></i>\n            {{currentUser.profile.name}}\n          </div>\n          <star-rating\n            class=\"user-comment__rating\"\n            v-model=\"comment.rating\"\n            :star-size=\"20\"\n            :rounded-corners=\"true\"\n            :show-rating=\"false\"\n            :read-only=\"!currentUser\"\n          ></star-rating>\n        </div>\n        <!-- 輸入欄 -->\n        <form>\n          <div class=\"form__row\">\n            <div class=\"form__group\" style=\"margin-right:0px\">\n              <textarea\n                class=\"user-comment__textarea\"\n                v-model=\"comment.comment\"\n                :readonly=\"!currentUser\"\n                placeholder=\"請開始你的表演\"\n                @click.prevent=\"alertLogReg\"\n              ></textarea>\n            </div>\n          </div>\n\n          <div class=\"form__group\">\n            <!-- 按鈕組 -->\n            <div class=\"btn-footer\" v-if=\"currentUser\">\n              <button\n                class=\"btn btn-primary\"\n                style=\"width:100px\"\n                v-if=\"inputStatus==='新留言'\"\n                @click.prevent=\"addComment\"\n              >送出</button>\n              <button\n                class=\"btn btn-primary\"\n                style=\"width:100px\"\n                v-if=\"inputStatus==='編輯留言'\"\n                @click.prevent=\"updateComment(comment);\"\n              >確認</button>\n              <button\n                class=\"btn btn-primary--cancel\"\n                style=\"width:100px\"\n                v-if=\"inputStatus==='編輯留言'\"\n                @click.prevent=\"inputStatus = '新留言';inputShow = !inputShow;comment.comment=tempComment\"\n              >取消</button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </section>\n\n  <!-- 評論 -->\n  <section>\n    <div class=\"d-flex-column\">\n      <div\n        class=\"user-comment\"\n        v-for=\"comment in comments\"\n        :class=\"{'user-first':!!currentUser&&comment.user.userId=== currentUser.profile.userId,\n        'd-none':inputStatus==='編輯留言'&&comment.user.userId=== currentUser.profile.userId\n        }\"\n        :key=\"comment.user.userId\"\n      >\n        <div class=\"d-flex\">\n          <div class=\"user-comment__img-box\">\n            <img class=\"user-comment__img\" :src=\"comment.user.userImg\">\n          </div>\n          <!-- 手機排版 -->\n          <div class=\"user-comment__info d-block-phone\">\n            <div class=\"d-flex\">\n              <div style=\"margin-right:10px\">\n                <i class=\"fas fa-user\"></i>\n                {{comment.user.name}}\n              </div>\n              <star-rating\n                :rating=\"comment.rating\"\n                :star-size=\"18\"\n                :read-only=\"true\"\n                :rounded-corners=\"true\"\n                :show-rating=\"false\"\n              ></star-rating>\n            </div>\n            <div>\n              <i class=\"far fa-clock\"></i>\n              {{time(comment.timestamp)}}\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"user-comment__content\"\n          :class=\"{'user-current':!!currentUser&&comment.user.userId=== currentUser.profile.userId}\"\n        >\n          <!-- 桌機排版 -->\n          <div class=\"user-comment__info d-none-phone\">\n            <div>\n              <i class=\"fas fa-user\"></i>\n              {{comment.user.name}}\n              <i class=\"far fa-clock\"></i>\n              {{time(comment.timestamp)}}\n            </div>\n\n            <star-rating\n              :rating=\"comment.rating\"\n              :star-size=\"20\"\n              :read-only=\"true\"\n              :rounded-corners=\"true\"\n              :show-rating=\"false\"\n            ></star-rating>\n          </div>\n          <p>{{comment.comment}}</p>\n          <div class=\"btn-footer\">\n            <button\n              class=\"btn btn-primary\"\n              style=\"width:100px\"\n              v-if=\"!!currentUser&&comment.user.userId=== currentUser.profile.userId\"\n              @click=\"inputShow =!inputShow;inputStatus='編輯留言';tempComment=comment.comment\"\n            >修改</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</div>\n",null]}