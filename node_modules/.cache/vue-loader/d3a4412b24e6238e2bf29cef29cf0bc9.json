{"remainingRequest":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangpei-yu/Front-Gym/src/views/CourseNewEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangpei-yu/Front-Gym/src/views/CourseNewEdit.vue","mtime":1582884021861},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangpei-yu/Front-Gym/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { VueEditor } from \"vue2-editor\";\nimport Pagination from \"@/components/Pagination\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  components: { Pagination, VueEditor },\n  data() {\n    return {\n      week: [\n        \"星期一\",\n        \"星期二\",\n        \"星期三\",\n        \"星期四\",\n        \"星期五\",\n        \"星期六\",\n        \"星期日\"\n      ],\n      category: [\"有氧課程\", \"瑜珈課程\", \"游泳課程\", \"飛輪課程\", \"其他課程\"],\n      course: {\n        categorySelected: null,\n        coach: null,\n        imageUrl: null,\n        intro: \"\",\n        time: null,\n        week: null,\n        originPrice: null,\n        price: null,\n        quantity: null,\n        remainQuantity: null,\n        title: \"\",\n        tags: [],\n        discount: false,\n        avgRating: 0\n      },\n      tag: null,\n      modal: null,\n      titleMax: 25,\n      introMax: 80\n    };\n  },\n  computed: {\n    isLoading() {\n      return this.$store.state.isLoading;\n    },\n    textCounter() {\n      return this.course.title;\n    },\n    status() {\n      return this.$store.state.courses.status;\n    },\n    getCourse() {\n      return this.$store.state.courses.course;\n    }\n  },\n  methods: {\n    reset() {\n      this.course = {\n        categorySelected: null,\n        coach: null,\n        imageUrl: null,\n        intro: \"\",\n        time: null,\n        week: null,\n        originPrice: null,\n        price: null,\n        quantity: null,\n        remainQuantity: null,\n        title: \"\",\n        tags: [],\n        discount: false,\n        avgRating: 0\n      };\n    },\n\n    //新增課程\n    addCourse() {\n      this.$store\n        .dispatch(\"courses/createCourse\", { ...this.course })\n        .then(_ => {\n          this.$toasted.success(\"成功新增課程\", {\n            duration: 2000\n          });\n          this.hide();\n        })\n        .catch(e => console.error(e.message));\n    },\n\n    //更新課程\n    updateCourse(id) {\n      this.$store\n        .dispatch(\"courses/updateCourse\", { id: id, course: this.course })\n        .then(_ => {\n          this.$toasted.success(\"更新成功!!\", {\n            duration: 2000\n          });\n          this.hide();\n        });\n    },\n\n    //新增課程tag\n    addTags() {\n      if (this.tag) {\n        this.course.tags.push(this.tag);\n      }\n      this.tag = \"\";\n    },\n\n    //刪除tag\n    deleteTag(key) {\n      this.course.tags.splice(key, 1);\n    },\n\n    //上傳圖片\n    uploadImage(e) {\n      let file = e.target.files[0];\n      var storageRef = firebase.storage().ref(\"courses\" + file.name);\n      storageRef.put(file);\n      console.log(e.target.files[0]);\n    }\n  },\n  created() {\n    // this.reset();\n    if (this.status === \"編輯課程\") {\n      return (this.course = { ...this.getCourse });\n    }\n  }\n};\n",{"version":3,"sources":["CourseNewEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CourseNewEdit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h2 class=\"heading-secondary\">{{status}}</h2>\n    <div class=\"profile-admin mb-md\">\n      <form class=\"add-course__form\">\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">課程名稱</label>\n            <div class=\"d-flex\">\n              <input\n                class=\"form__input\"\n                placeholder=\"請填入課程名稱\"\n                type=\"text\"\n                v-model=\"course.title\"\n                :maxlength=\"titleMax\"\n              >\n              <div class=\"form__counter\">\n                <span>{{titleMax-course.title.length}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">課程簡介</label>\n            <div class=\"d-flex\">\n              <input\n                class=\"form__input\"\n                placeholder=\"請填入課程簡介\"\n                type=\"textarea\"\n                v-model=\"course.intro\"\n                style=\"padding-right:40px\"\n                :maxlength=\"introMax\"\n              >\n              <div class=\"form__counter\">\n                <span>{{introMax-course.intro.length}}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"form__group\" style=\"margin-right:0px\">\n          <div class=\"form__tag-case\">\n            <label class=\"form__label\">標籤</label>\n\n            <div class=\"form__tag\" v-for=\"(tag,key) in course.tags\" :key=\"key\">\n              {{tag}}\n              <i class=\"fas fa-times-circle\" @click=\"deleteTag(key)\"></i>\n            </div>\n          </div>\n          <input\n            class=\"form__input\"\n            type=\"text\"\n            @keyup.enter=\"addTags()\"\n            v-model=\"tag\"\n            placeholder=\"請填入標籤並以enter隔開\"\n          >\n        </div>\n      </form>\n      <form class=\"add-course__form\">\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">課程類別</label>\n            <select class=\"form__input\" v-model=\"course.categorySelected\">\n              <option :value=\"null\" disabled>請選擇課程類別</option>\n              <option :value=\"item\" v-for=\"(item,key) in category\" :key=\"key\">{{item}}</option>\n            </select>\n          </div>\n          <div class=\"form__group\">\n            <label class=\"form__label\">課程教練</label>\n            <input class=\"form__input\" placeholder=\"請填入教練\" type=\"text\" v-model=\"course.coach\">\n          </div>\n        </div>\n\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">上課星期</label>\n            <select class=\"form__input\" v-model=\"course.week\">\n              <option value disabled selected>請選擇星期</option>\n              <option v-for=\"day in week\" :key=\"day\">{{day}}</option>\n            </select>\n          </div>\n          <div class=\"form__group\">\n            <label class=\"form__label\">上課時間</label>\n            <select class=\"form__input\" v-model=\"course.time\">\n              <optgroup label=\"上午\">\n                <option value=\"上午09:00~10:00\" default selected>09:00~10:00</option>\n                <option value=\"上午10:00~11:00\">10:00~11:00</option>\n                <option value=\"上午11:00~12:00\">11:00~12:00</option>\n              </optgroup>\n              <optgroup label=\"中午\">\n                <option value=\"中午14:00~15:00\">14:00~15:00</option>\n                <option value=\"中午15:00~16:00\">15:00~16:00</option>\n                <option value=\"中午16:00~17:00\">16:00~17:00</option>\n              </optgroup>\n              <optgroup label=\"晚上\">\n                <option value=\"晚上18:00~19:00\">18:00~19:00</option>\n                <option value=\"晚上19:00~20:00\">19:00~20:00</option>\n                <option value=\"晚上20:00~21:00\">20:00~21:00</option>\n              </optgroup>\n            </select>\n          </div>\n        </div>\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">滿班人數</label>\n            <input\n              class=\"form__input\"\n              placeholder=\"請填入人數\"\n              type=\"number\"\n              v-model.number=\"course.quantity\"\n            >\n          </div>\n          <div class=\"form__group\">\n            <label class=\"form__label\">可報名人數</label>\n            <input\n              class=\"form__input\"\n              placeholder=\"請填入人數\"\n              type=\"number\"\n              v-model.number=\"course.remainQuantity\"\n            >\n          </div>\n        </div>\n        <div class=\"form__row\">\n          <div class=\"form__group\">\n            <label class=\"form__label\">原價</label>\n            <input\n              class=\"form__input\"\n              placeholder=\"請填入價格\"\n              type=\"number\"\n              v-model.number=\"course.originPrice\"\n            >\n          </div>\n          <div class=\"form__group\">\n            <label class=\"form__label\">售價</label>\n            <input\n              class=\"form__input\"\n              placeholder=\"請填入價格\"\n              type=\"number\"\n              v-model.number=\"course.price\"\n            >\n          </div>\n        </div>\n\n        <div class=\"form__row\">\n          <div class=\"form__group d-flex\">\n            <input class=\"form__checkbox\" type=\"checkbox\" v-model=\"course.discount\">\n            <label class=\"form__label\">精選課程（優惠）</label>\n          </div>\n        </div>\n        <div class=\"form__row\">\n          <img\n            class=\"form__img\"\n            src=\"https://fakeimg.pl/250x150/?retina=1&text=請上傳圖片&font=noto\"\n            alt\n          >\n\n          <div>\n            <div class=\"form__group\">\n              <label class=\"form__label\">輸入圖片網址</label>\n              <input class=\"form__input\" type=\"text\" v-model=\"course.imageUrl\">\n            </div>\n            <div class=\"form__group\">\n              <label class=\"form__label\">或 選擇圖片檔案</label>\n              <input class=\"form__input\" type=\"file\">\n            </div>\n          </div>\n        </div>\n        <div class>\n          <div class=\"form__row\">\n            <div class=\"form__group\">\n              <label class=\"form__label\">課程內容</label>\n              <VueEditor id=\"editor\" v-model=\"course.desc\" :placeholder=\"'請填入詳細課程內容'\"></VueEditor>\n            </div>\n          </div>\n        </div>\n      </form>\n\n      <div class=\"modal-buttons\">\n        <div class>\n          <button\n            class=\"swal2-confirm swal2-styled\"\n            style=\"display: inline-block; background-color: rgb(255, 87, 33); border-left-color: rgb(255, 87, 33); border-right-color: rgb(255, 87, 33);\"\n          >繼續</button>\n          <button\n            class=\"swal2-confirm swal2-styled\"\n            style=\"display: inline-block; background-color: rgb(255, 87, 33); border-left-color: rgb(255, 87, 33); border-right-color: rgb(255, 87, 33);\"\n            @click=\"addCourse\"\n            v-if=\"modal=='新增課程'\"\n          >新增</button>\n          <button\n            class=\"swal2-confirm swal2-styled\"\n            style=\"display: inline-block; background-color: rgb(255, 87, 33); border-left-color: rgb(255, 87, 33); border-right-color: rgb(255, 87, 33);\"\n            @click=\"updateCourse(course.id)\"\n            v-if=\"modal=='編輯課程'\"\n          >修改</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport { VueEditor } from \"vue2-editor\";\nimport Pagination from \"@/components/Pagination\";\nimport Swal from \"sweetalert2\";\n\nexport default {\n  components: { Pagination, VueEditor },\n  data() {\n    return {\n      week: [\n        \"星期一\",\n        \"星期二\",\n        \"星期三\",\n        \"星期四\",\n        \"星期五\",\n        \"星期六\",\n        \"星期日\"\n      ],\n      category: [\"有氧課程\", \"瑜珈課程\", \"游泳課程\", \"飛輪課程\", \"其他課程\"],\n      course: {\n        categorySelected: null,\n        coach: null,\n        imageUrl: null,\n        intro: \"\",\n        time: null,\n        week: null,\n        originPrice: null,\n        price: null,\n        quantity: null,\n        remainQuantity: null,\n        title: \"\",\n        tags: [],\n        discount: false,\n        avgRating: 0\n      },\n      tag: null,\n      modal: null,\n      titleMax: 25,\n      introMax: 80\n    };\n  },\n  computed: {\n    isLoading() {\n      return this.$store.state.isLoading;\n    },\n    textCounter() {\n      return this.course.title;\n    },\n    status() {\n      return this.$store.state.courses.status;\n    },\n    getCourse() {\n      return this.$store.state.courses.course;\n    }\n  },\n  methods: {\n    reset() {\n      this.course = {\n        categorySelected: null,\n        coach: null,\n        imageUrl: null,\n        intro: \"\",\n        time: null,\n        week: null,\n        originPrice: null,\n        price: null,\n        quantity: null,\n        remainQuantity: null,\n        title: \"\",\n        tags: [],\n        discount: false,\n        avgRating: 0\n      };\n    },\n\n    //新增課程\n    addCourse() {\n      this.$store\n        .dispatch(\"courses/createCourse\", { ...this.course })\n        .then(_ => {\n          this.$toasted.success(\"成功新增課程\", {\n            duration: 2000\n          });\n          this.hide();\n        })\n        .catch(e => console.error(e.message));\n    },\n\n    //更新課程\n    updateCourse(id) {\n      this.$store\n        .dispatch(\"courses/updateCourse\", { id: id, course: this.course })\n        .then(_ => {\n          this.$toasted.success(\"更新成功!!\", {\n            duration: 2000\n          });\n          this.hide();\n        });\n    },\n\n    //新增課程tag\n    addTags() {\n      if (this.tag) {\n        this.course.tags.push(this.tag);\n      }\n      this.tag = \"\";\n    },\n\n    //刪除tag\n    deleteTag(key) {\n      this.course.tags.splice(key, 1);\n    },\n\n    //上傳圖片\n    uploadImage(e) {\n      let file = e.target.files[0];\n      var storageRef = firebase.storage().ref(\"courses\" + file.name);\n      storageRef.put(file);\n      console.log(e.target.files[0]);\n    }\n  },\n  created() {\n    // this.reset();\n    if (this.status === \"編輯課程\") {\n      return (this.course = { ...this.getCourse });\n    }\n  }\n};\n</script>\n\n<style>\n#editor {\n  height: 250px;\n}\n</style>"]}]}